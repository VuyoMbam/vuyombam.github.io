{
  "hash": "8b2db1566013d36ce43478bee30dc1b6",
  "result": {
    "engine": "jupyter",
    "markdown": "::: {#7b167474 .cell execution_count=1}\n``` {.python .cell-code}\n# Import dependences\n\nimport pandas as pd\nimport plotly.graph_objects as go\n```\n:::\n\n\n::: {#1e19f1dc .cell execution_count=2}\n``` {.python .cell-code}\ndf = pd.read_csv(\"eb_2023.csv\").set_index(\"Flow\")\ndf = df.loc[:, 'Coal':].astype('float').reset_index()\n```\n:::\n\n\n::: {#7893a28a .cell execution_count=3}\n``` {.python .cell-code}\nfuels = ['Coal', 'Crude oil', 'Oil products', 'Natural gas', 'Nuclear', 'Hydro', 'Geo-therm., Solar etc.',\n        'Biofuels and Waste', 'Electricity', 'Heat']\nprimary_flows = ['Production', 'Imports']\ntransformation_flows = ['Electricity plants', 'CHP plants', 'Heat plants',\n                        'Blast furnaces', 'Gas works', 'Coke/pat. fuel/BKB/PB plants',\n                        'Oil refineries', 'Petrochemical plants', 'Liquefaction plants',\n                        'Other transformation', \n                        'Losses']\nfinal_flows = ['INDUSTRY', 'TRANSPORT', 'OTHER', 'Energy industry own use','NON-ENERGY USE', 'Exports', 'Intl. marine bunkers', \n                 'Intl. aviation bunkers']\n```\n:::\n\n\n::: {#303ca0f7 .cell execution_count=4}\n``` {.python .cell-code}\nfuel_colors = {\n    'Coal': '#4B4B4B',            # dark grey\n    'Crude oil': '#A0522D',       # brown\n    'Oil products': '#FFA500',    # orange\n    'Natural gas': '#1E90FF',     # blue\n    'Nuclear': '#9A32CD',         # purple\n    'Hydro': '#00BFFF',           # light blue\n    'Geo-therm., Solar etc.': '#228B22',  # green\n    'Biofuels and Waste': '#FFD700',   # yellow\n    'Electricity': '#E31A1C',     # red\n    'Heat': '#FF6347'             # tomato\n}\n```\n:::\n\n\n::: {#b86494da .cell execution_count=5}\n``` {.python .cell-code}\n   \ndef hex_to_rgba(hex_color, alpha=0.6):\n    hex_color = hex_color.lstrip('#')\n    r, g, b = tuple(int(hex_color[i:i+2], 16) for i in (0, 2, 4))\n    return f\"rgba({r},{g},{b},{alpha})\"\n\ndef get_link_color(source, target):\n    if source in fuel_colors:\n        return hex_to_rgba(fuel_colors[source], 0.5)\n    elif target in fuel_colors:\n        return hex_to_rgba(fuel_colors[target], 0.5)\n    else:\n        return \"rgba(180,180,180,0.3)\"\n```\n:::\n\n\n::: {#9a083ba8 .cell execution_count=6}\n``` {.python .cell-code}\nx_pos = {}\nfor n in primary_flows:\n    x_pos[n] = 0.05           # far left\nfor n in fuels:\n    x_pos[n] = 0.30           # mid-left\nfor n in transformation_flows:\n    x_pos[n] = 0.60           # mid-right\nfor n in final_flows:\n    x_pos[n] = 0.85           # far right\n    \nimport numpy as np\n\ny_pos = {}\ndef distribute_y(group, start=0.05, end=0.95):\n    spacing = np.linspace(start, end, len(group))\n    for n, y in zip(group, spacing):\n        y_pos[n] = y\n```\n:::\n\n\n::: {#cc799f07 .cell execution_count=7}\n``` {.python .cell-code}\nlinks = []\n\n\n# Primary flows\nfor flow in primary_flows:\n    for fuel in fuels:\n        val = df.loc[df['Flow'] == flow, fuel].values[0]\n        if val > 0:\n            links.append((flow, fuel, abs(val)))\n        if val < 0:\n            links.append((fuel, flow, abs(val)))\n\n# 2. Transformation flows\n\n\nfor flow in transformation_flows:\n    for fuel in fuels:\n        val = df.loc[df['Flow'] == flow, fuel].values[0]\n        if val > 0:\n            links.append((flow, fuel, abs(val)))\n        if val < 0:\n            links.append((fuel, flow, abs(val)))\n            \n\n# 3. Final flows\nfor flow in final_flows:\n    for fuel in fuels:\n        val = df.loc[df['Flow'] == flow, fuel].values[0]\n        if val > 0:\n            links.append((fuel, flow, abs(val)))\n        if val < 0:\n            links.append((fuel, flow, abs(val)))\n\n\n# --- Optional filtering to declutter ---\n\nlink_colors = [get_link_color(s, t) for s, t, _ in links]\n# total = sum([v for _, _, v in links])\n# links = [(s, t, v) for s, t, v in links if v > 0.005 * total]\n\n# nodes = list(dict.fromkeys(primary_flows + fuels + transformation_flows + final_flows))\nnodes = primary_flows + fuels + transformation_flows + final_flows\nused_nodes = set([s for s, _, _ in links] + [t for _, t, _ in links])\nnodes = [n for n in nodes if n in used_nodes]\nnode_indices = {node: i for i, node in enumerate(nodes)}\n\nsources, targets, values = zip(*links)\n\nnode_colors = []\nfor n in nodes:\n    if n in fuel_colors:\n        node_colors.append(fuel_colors[n])\n    elif n in primary_flows:\n        node_colors.append(\"#CCCCCC\")\n    elif n in transformation_flows:\n        node_colors.append(\"#87CEEB\")\n    elif n in final_flows:\n        node_colors.append(\"#F4A460\")\n    else:\n        node_colors.append(\"#D3D3D3\")\n\ndistribute_y(primary_flows)\ndistribute_y(fuels)\ndistribute_y(transformation_flows)\ndistribute_y(final_flows)\n\nfig = go.Figure(data=[go.Sankey(\n    arrangement = 'snap',\n    node=dict(\n        pad=20,\n        thickness=15,\n        label=nodes,\n        color= node_colors,\n        x=[x_pos[n] for n in nodes],\n        y=[y_pos[n] for n in nodes]\n    ),\n    link=dict(\n        source=[node_indices[s] for s in sources],\n        target=[node_indices[t] for t in targets],\n        value=values,\n        # color=\"rgba(0,150,250,0.4)\"\n        color=link_colors\n    )\n)])\n\n# fig.update_layout(title_text=\"South Africa Energy Balance - 2023\", font_size=10)\nfig.update_layout(\n    title_text=\"South Africa Energy Balance - 2023\",\n    font_size=11,\n    annotations=[\n        dict(\n            text=\"<i>Source: Vuyo Mbam based on South Africa Energy Balance 2023 (IEA, DMRE)</i>\",\n            xref=\"paper\", yref=\"paper\",\n            x=0, y=-0.12,          # position below chart\n            showarrow=False,\n            font=dict(size=10, color=\"gray\"),\n            xanchor='left',\n        )\n    ],\n    margin=dict(t=80, b=80, l=10, r=10),\n    width = 1400,\n    height = 800\n)\nfig.show()\nfig.write_html(\"SA_Energy_Flow.html\")\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-3.0.1.min.js\"></script>                <div id=\"add0cf14-f5a2-4bdf-b492-9c24c2037c18\" class=\"plotly-graph-div\" style=\"height:800px; width:1400px;\"></div>            <script type=\"text/javascript\">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById(\"add0cf14-f5a2-4bdf-b492-9c24c2037c18\")) {                    Plotly.newPlot(                        \"add0cf14-f5a2-4bdf-b492-9c24c2037c18\",                        [{\"arrangement\":\"snap\",\"link\":{\"color\":[\"rgba(75,75,75,0.5)\",\"rgba(160,82,45,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(30,144,255,0.5)\",\"rgba(154,50,205,0.5)\",\"rgba(0,191,255,0.5)\",\"rgba(34,139,34,0.5)\",\"rgba(255,215,0,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(160,82,45,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(30,144,255,0.5)\",\"rgba(227,26,28,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(154,50,205,0.5)\",\"rgba(0,191,255,0.5)\",\"rgba(34,139,34,0.5)\",\"rgba(255,215,0,0.5)\",\"rgba(227,26,28,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(160,82,45,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(160,82,45,0.5)\",\"rgba(30,144,255,0.5)\",\"rgba(255,215,0,0.5)\",\"rgba(227,26,28,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(30,144,255,0.5)\",\"rgba(255,215,0,0.5)\",\"rgba(227,26,28,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(227,26,28,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(30,144,255,0.5)\",\"rgba(255,215,0,0.5)\",\"rgba(227,26,28,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(30,144,255,0.5)\",\"rgba(227,26,28,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(75,75,75,0.5)\",\"rgba(160,82,45,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(30,144,255,0.5)\",\"rgba(227,26,28,0.5)\",\"rgba(255,165,0,0.5)\",\"rgba(255,165,0,0.5)\"],\"source\":[0,0,0,0,0,7,0,0,1,1,1,1,1,2,4,6,11,8,9,11,2,13,2,3,15,2,16,5,9,10,2,4,5,9,10,4,10,2,4,5,9,10,2,4,5,10,4,2,3,4,5,10,4,4],\"target\":[2,3,4,5,6,0,8,9,2,3,4,5,10,11,11,11,7,11,11,10,12,2,14,15,4,16,3,16,17,18,19,19,19,19,19,20,20,21,21,21,21,21,22,22,22,22,23,24,24,24,24,24,25,26],\"value\":[5497285.924,0.037647,312218.6356,655.0,136647.8788,29858.5516,78529.08028,652280.5,51069.14308,307174.6899,798101.1678,133923.4218,29602.8,2375269.072,30449.0625,106941.8182,36529.6716,61786.07522,4298.84,721797.1189,20747.93,21779.7237,22298.20344,444202.875,376440.5256,11476.08,180768.7965,51487.1451,221515.2,27669.6,852163.9016,56405.8071,60857.53551,82216.04,365714.712,712990.6906,7273.764,247488.8644,303822.1401,1494.34155,344250.42,902668.5623,750.95064,553221.3855,19958.33023,42708.0384,108338.424,1094444.382,1.7343,136194.21,392.679,33634.8,2265.658827,2421.510367]},\"node\":{\"color\":[\"#CCCCCC\",\"#CCCCCC\",\"#4B4B4B\",\"#A0522D\",\"#FFA500\",\"#1E90FF\",\"#9A32CD\",\"#00BFFF\",\"#228B22\",\"#FFD700\",\"#E31A1C\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\"],\"label\":[\"Production\",\"Imports\",\"Coal\",\"Crude oil\",\"Oil products\",\"Natural gas\",\"Nuclear\",\"Hydro\",\"Geo-therm., Solar etc.\",\"Biofuels and Waste\",\"Electricity\",\"Electricity plants\",\"Blast furnaces\",\"Gas works\",\"Coke\\u002fpat. fuel\\u002fBKB\\u002fPB plants\",\"Oil refineries\",\"Liquefaction plants\",\"Other transformation\",\"Losses\",\"INDUSTRY\",\"TRANSPORT\",\"OTHER\",\"Energy industry own use\",\"NON-ENERGY USE\",\"Exports\",\"Intl. marine bunkers\",\"Intl. aviation bunkers\"],\"pad\":20,\"thickness\":15,\"x\":[0.05,0.05,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.3,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.85,0.85,0.85,0.85,0.85,0.85,0.85,0.85],\"y\":[0.05,0.95,0.05,0.15,0.25,0.35,0.44999999999999996,0.5499999999999999,0.65,0.75,0.85,0.05,0.32,0.41,0.49999999999999994,0.5900000000000001,0.77,0.86,0.95,0.05,0.17857142857142855,0.3071428571428571,0.43571428571428567,0.5642857142857143,0.6928571428571428,0.8214285714285714,0.95]},\"type\":\"sankey\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermap\":[{\"type\":\"scattermap\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"},\"margin\":{\"b\":0,\"l\":0,\"r\":0,\"t\":30}}},\"title\":{\"text\":\"South Africa Energy Balance - 2023\"},\"font\":{\"size\":11},\"margin\":{\"t\":80,\"b\":80,\"l\":10,\"r\":10},\"annotations\":[{\"font\":{\"color\":\"gray\",\"size\":10},\"showarrow\":false,\"text\":\"\\u003ci\\u003eSource: Vuyo Mbam based on South Africa Energy Balance 2023 (IEA, DMRE)\\u003c\\u002fi\\u003e\",\"x\":0,\"xanchor\":\"left\",\"xref\":\"paper\",\"y\":-0.12,\"yref\":\"paper\"}],\"width\":1400,\"height\":800},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('add0cf14-f5a2-4bdf-b492-9c24c2037c18');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };            </script>        </div>\n```\n:::\n:::\n\n\n::: {#53b89145 .cell execution_count=8}\n``` {.python .cell-code}\nprimary_fuels = ['Coal', 'Biofuels and Waste', 'Crude oil', 'Natural gas', 'Nuclear', 'Geo-therm., Solar etc.','Hydro']\nsecondary_products = ['Electricity', 'Oil products',  'Heat']\nprimary_flows = ['Production', 'Imports']\ntransformation_flows = ['Electricity plants', 'Oil refineries', 'Liquefaction plants', 'CHP plants', 'Heat plants',\n                        'Blast furnaces', 'Gas works', 'Coke/pat. fuel/BKB/PB plants', 'Petrochemical plants', \n                        'Other transformation']\nfinal_flows = ['INDUSTRY', 'TRANSPORT', 'OTHER', 'Energy industry own use','NON-ENERGY USE', 'Exports', 'Intl. marine bunkers', \n                 'Intl. aviation bunkers', \n                        'Losses']\n\n\nlinks = []\n\n\n\n# Primary flows\nfor flow in primary_flows:\n    for fuel in primary_fuels + secondary_products:\n        val = df.loc[df['Flow'] == flow, fuel].values[0]\n        if val > 0:\n            links.append((flow, fuel, abs(val)))\n        if val < 0:\n            links.append((fuel, flow, abs(val)))\n\n# 2. Transformation flows\n\nfor flow in transformation_flows:\n    for fuel in primary_fuels:\n        val = df.loc[df['Flow'] == flow, fuel].values[0]\n        if val > 0:\n            links.append((flow, fuel, abs(val)))\n        if val < 0:\n            links.append((fuel, flow, abs(val)))\n            \nfor flow in transformation_flows:\n    for fuel in secondary_products:\n        val = df.loc[df['Flow'] == flow, fuel].values[0]\n        if val > 0:\n            links.append((flow, fuel, val))\n        if val < 0:\n            links.append((fuel, flow, abs(val)))\n        \n\n# 3. Final flows\nfor flow in final_flows:\n    for fuel in primary_fuels + secondary_products:\n        val = df.loc[df['Flow'] == flow, fuel].values[0]\n        if val > 0:\n            links.append((fuel, flow, abs(val)))\n        if val < 0:\n            links.append((fuel, flow, abs(val)))\n\n\n# --- Optional filtering to declutter ---\n\nlink_colors = [get_link_color(s, t) for s, t, _ in links]\n# total = sum([v for _, _, v in links])\n# links = [(s, t, v) for s, t, v in links if v > 0.005 * total]\n\n# nodes = list(dict.fromkeys(primary_flows + fuels + transformation_flows + final_flows))\nnodes = primary_flows + primary_fuels + transformation_flows + secondary_products + final_flows\nused_nodes = set([s for s, _, _ in links] + [t for _, t, _ in links])\nnodes = [n for n in nodes if n in used_nodes]\nnode_indices = {node: i for i, node in enumerate(nodes)}\n\nsources, targets, values = zip(*links)\n\nnode_colors = []\nfor n in nodes:\n    if n in primary_fuels:\n        node_colors.append(fuel_colors[n])\n    elif n in primary_flows:\n        node_colors.append(\"#CCCCCC\")\n    elif n in transformation_flows:\n        node_colors.append(\"#87CEEB\")\n    elif n in secondary_products:\n        node_colors.append(\"#FF0000\")\n    elif n in final_flows:\n        node_colors.append(\"#F4A460\")\n    else:\n        node_colors.append(\"#D3D3D3\")\n\nx_pos = {}\nfor n in primary_flows:\n    x_pos[n] = 0.05           # far left\nfor n in fuels:\n    x_pos[n] = 0.25           # mid-left\nfor n in transformation_flows:\n    x_pos[n] = 0.55           # mid-right\nfor n in secondary_products:\n    x_pos[n] = 0.75\nfor n in final_flows:\n    x_pos[n] = 0.95  \n\n\ndistribute_y(primary_flows)\ndistribute_y(primary_fuels)\ndistribute_y(transformation_flows)\ndistribute_y(secondary_products)\ndistribute_y(final_flows)\n\nfig = go.Figure(data=[go.Sankey(\n    arrangement = 'snap',\n    node=dict(\n        pad=20,\n        thickness=15,\n        label=nodes,\n        color= node_colors,\n        x=[x_pos[n] for n in nodes],\n        y=[y_pos[n] for n in nodes]\n    ),\n    link=dict(\n        source=[node_indices[s] for s in sources],\n        target=[node_indices[t] for t in targets],\n        value=values,\n        color=\"rgba(0,150,250,0.4)\"\n        # color=link_colors\n    )\n)])\n\n# fig.update_layout(title_text=\"South Africa Energy Balance - 2023\", font_size=10)\nfig.update_layout(\n    title_text=\"South Africa Energy Balance - 2023\",\n    font_size=11,\n    annotations=[\n        dict(\n            text=\"<i>Source: Vuyo Mbam based on South Africa Energy Balance 2023 (IEA, DMRE)</i>\",\n            xref=\"paper\", yref=\"paper\",\n            x=0, y=-0.12,          # position below chart\n            showarrow=False,\n            font=dict(size=10, color=\"gray\"),\n            xanchor='left',\n        )\n    ],\n    margin=dict(t=80, b=80, l=10, r=10),\n    width = 1400,\n    height = 800\n)\nfig.show()\nfig.write_html(\"SA_Energy_Flow.html\")\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<div>            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG\"></script><script type=\"text/javascript\">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}</script>                <script type=\"text/javascript\">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>\n        <script charset=\"utf-8\" src=\"https://cdn.plot.ly/plotly-3.0.1.min.js\"></script>                <div id=\"d827ab62-4f00-4589-853b-e3da0742e9c7\" class=\"plotly-graph-div\" style=\"height:800px; width:1400px;\"></div>            <script type=\"text/javascript\">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById(\"d827ab62-4f00-4589-853b-e3da0742e9c7\")) {                    Plotly.newPlot(                        \"d827ab62-4f00-4589-853b-e3da0742e9c7\",                        [{\"arrangement\":\"snap\",\"link\":{\"color\":\"rgba(0,150,250,0.4)\",\"source\":[0,0,0,0,0,0,8,0,1,1,1,1,1,2,3,6,7,9,4,2,11,5,2,13,2,3,9,17,10,2,3,5,16,17,16,17,2,3,5,16,17,2,5,16,17,17,2,4,5,16,17,17,17,16],\"target\":[2,3,4,5,6,7,0,17,2,4,5,16,17,9,9,9,9,8,10,11,4,11,12,2,14,15,16,9,17,18,18,18,18,18,19,19,20,20,20,20,20,21,21,21,21,22,23,23,23,23,23,24,25,26],\"value\":[5497285.924,652280.5,0.037647,655.0,136647.8788,78529.08028,29858.5516,312218.6356,51069.14308,307174.6899,133923.4218,29602.8,798101.1678,2375269.072,4298.84,106941.8182,61786.07522,36529.6716,444202.875,11476.08,180768.7965,51487.1451,20747.93,21779.7237,22298.20344,221515.2,721797.1189,30449.0625,376440.5256,852163.9016,82216.04,60857.53551,365714.712,56405.8071,7273.764,712990.6906,247488.8644,344250.42,1494.34155,902668.5623,303822.1401,750.95064,19958.33023,42708.0384,553221.3855,108338.424,1094444.382,1.7343,392.679,33634.8,136194.21,2265.658827,2421.510367,27669.6]},\"node\":{\"color\":[\"#CCCCCC\",\"#CCCCCC\",\"#4B4B4B\",\"#FFD700\",\"#A0522D\",\"#1E90FF\",\"#9A32CD\",\"#228B22\",\"#00BFFF\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#87CEEB\",\"#FF0000\",\"#FF0000\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\",\"#F4A460\"],\"label\":[\"Production\",\"Imports\",\"Coal\",\"Biofuels and Waste\",\"Crude oil\",\"Natural gas\",\"Nuclear\",\"Geo-therm., Solar etc.\",\"Hydro\",\"Electricity plants\",\"Oil refineries\",\"Liquefaction plants\",\"Blast furnaces\",\"Gas works\",\"Coke\\u002fpat. fuel\\u002fBKB\\u002fPB plants\",\"Other transformation\",\"Electricity\",\"Oil products\",\"INDUSTRY\",\"TRANSPORT\",\"OTHER\",\"Energy industry own use\",\"NON-ENERGY USE\",\"Exports\",\"Intl. marine bunkers\",\"Intl. aviation bunkers\",\"Losses\"],\"pad\":20,\"thickness\":15,\"x\":[0.05,0.05,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.55,0.55,0.55,0.55,0.55,0.55,0.55,0.75,0.75,0.95,0.95,0.95,0.95,0.95,0.95,0.95,0.95,0.95],\"y\":[0.05,0.95,0.05,0.2,0.35,0.49999999999999994,0.65,0.8,0.95,0.05,0.15,0.25,0.5499999999999999,0.65,0.75,0.95,0.05,0.49999999999999994,0.05,0.16249999999999998,0.27499999999999997,0.38749999999999996,0.49999999999999994,0.6125,0.725,0.8374999999999999,0.95]},\"type\":\"sankey\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermap\":[{\"type\":\"scattermap\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"},\"margin\":{\"b\":0,\"l\":0,\"r\":0,\"t\":30}}},\"title\":{\"text\":\"South Africa Energy Balance - 2023\"},\"font\":{\"size\":11},\"margin\":{\"t\":80,\"b\":80,\"l\":10,\"r\":10},\"annotations\":[{\"font\":{\"color\":\"gray\",\"size\":10},\"showarrow\":false,\"text\":\"\\u003ci\\u003eSource: Vuyo Mbam based on South Africa Energy Balance 2023 (IEA, DMRE)\\u003c\\u002fi\\u003e\",\"x\":0,\"xanchor\":\"left\",\"xref\":\"paper\",\"y\":-0.12,\"yref\":\"paper\"}],\"width\":1400,\"height\":800},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('d827ab62-4f00-4589-853b-e3da0742e9c7');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };            </script>        </div>\n```\n:::\n:::\n\n\n::: {#64f4d522 .cell execution_count=9}\n``` {.python .cell-code}\ndf\n```\n\n::: {.cell-output .cell-output-display execution_count=9}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Flow</th>\n      <th>Coal</th>\n      <th>Crude oil</th>\n      <th>Oil products</th>\n      <th>Natural gas</th>\n      <th>Nuclear</th>\n      <th>Hydro</th>\n      <th>Geo-therm., Solar etc.</th>\n      <th>Biofuels and Waste</th>\n      <th>Electricity</th>\n      <th>Heat</th>\n      <th>Total</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Production</td>\n      <td>5.497286e+06</td>\n      <td>0.037647</td>\n      <td>3.122186e+05</td>\n      <td>655.000000</td>\n      <td>136647.87880</td>\n      <td>-29858.5516</td>\n      <td>78529.08028</td>\n      <td>652280.50</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>6.647759e+06</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Imports</td>\n      <td>5.106914e+04</td>\n      <td>307174.689900</td>\n      <td>7.981012e+05</td>\n      <td>133923.421800</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>2.960280e+04</td>\n      <td>0.0</td>\n      <td>1.319871e+06</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Exports</td>\n      <td>-1.094444e+06</td>\n      <td>-1.734300</td>\n      <td>-1.361942e+05</td>\n      <td>-392.679000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>3.363480e+04</td>\n      <td>0.0</td>\n      <td>-1.197398e+06</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Intl. marine bunkers</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>-2.265659e+03</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>-2.265659e+03</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Intl. aviation bunkers</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>-2.421510e+03</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>-2.421510e+03</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Stock changes</td>\n      <td>0.000000e+00</td>\n      <td>33857.766000</td>\n      <td>-1.150836e+04</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>2.234940e+04</td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>TPES</td>\n      <td>4.453911e+06</td>\n      <td>341030.759200</td>\n      <td>9.579301e+05</td>\n      <td>134185.742800</td>\n      <td>136647.87880</td>\n      <td>-29858.5516</td>\n      <td>78529.08028</td>\n      <td>652280.50</td>\n      <td>6.323760e+04</td>\n      <td>0.0</td>\n      <td>6.787894e+06</td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>Transfers</td>\n      <td>0.000000e+00</td>\n      <td>-180768.796500</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>-1.807688e+05</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>Statistical differences</td>\n      <td>-9.454954e+05</td>\n      <td>103172.115800</td>\n      <td>4.308569e+05</td>\n      <td>-388.390408</td>\n      <td>-29706.06061</td>\n      <td>-6671.1200</td>\n      <td>-16743.00506</td>\n      <td>0.00</td>\n      <td>4.755839e+05</td>\n      <td>0.0</td>\n      <td>1.060894e+04</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Electricity plants</td>\n      <td>-2.375269e+06</td>\n      <td>0.000000</td>\n      <td>-3.044906e+04</td>\n      <td>0.000000</td>\n      <td>-106941.81820</td>\n      <td>36529.6716</td>\n      <td>-61786.07522</td>\n      <td>-4298.84</td>\n      <td>7.217971e+05</td>\n      <td>0.0</td>\n      <td>-1.820418e+06</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>CHP plants</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>0.000000e+00</td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>Heat plants</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>0.000000e+00</td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>Blast furnaces</td>\n      <td>-2.074793e+04</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>-2.074793e+04</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>Gas works</td>\n      <td>2.177972e+04</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>2.177972e+04</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>Coke/pat. fuel/BKB/PB plants</td>\n      <td>-2.229820e+04</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>-2.229820e+04</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Oil refineries</td>\n      <td>0.000000e+00</td>\n      <td>-444202.875000</td>\n      <td>3.764405e+05</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>-6.776235e+04</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>Petrochemical plants</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>0.000000e+00</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Liquefaction plants</td>\n      <td>-1.147608e+04</td>\n      <td>180768.796500</td>\n      <td>0.000000e+00</td>\n      <td>-51487.145100</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>1.178056e+05</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>Other transformation</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>-221515.20</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>-2.215152e+05</td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>Energy industry own use</td>\n      <td>-7.509506e+02</td>\n      <td>0.000000</td>\n      <td>-5.532214e+05</td>\n      <td>-19958.330230</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>4.270804e+04</td>\n      <td>0.0</td>\n      <td>-5.312226e+05</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>Losses</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>-2.766960e+04</td>\n      <td>0.0</td>\n      <td>-2.766960e+04</td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>TFC</td>\n      <td>1.099653e+06</td>\n      <td>0.000000</td>\n      <td>1.181557e+06</td>\n      <td>62351.877060</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>426466.46</td>\n      <td>1.275657e+06</td>\n      <td>0.0</td>\n      <td>4.045685e+06</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>INDUSTRY</td>\n      <td>8.521639e+05</td>\n      <td>0.000000</td>\n      <td>5.640581e+04</td>\n      <td>60857.535510</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>82216.04</td>\n      <td>3.657147e+05</td>\n      <td>0.0</td>\n      <td>1.417358e+06</td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>Iron and steel</td>\n      <td>1.467516e+05</td>\n      <td>0.000000</td>\n      <td>4.399168e+01</td>\n      <td>10429.434000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>6.052777e+04</td>\n      <td>0.0</td>\n      <td>2.177528e+05</td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>Chemical and petrochemical</td>\n      <td>4.888062e+04</td>\n      <td>0.000000</td>\n      <td>4.841073e+02</td>\n      <td>37249.794000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>2.862346e+04</td>\n      <td>0.0</td>\n      <td>1.152380e+05</td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>Non-ferrous metals</td>\n      <td>8.010410e+04</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>170.681400</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>5.424530e+04</td>\n      <td>0.0</td>\n      <td>1.345201e+05</td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>Non-metallic minerals</td>\n      <td>1.905675e+04</td>\n      <td>0.000000</td>\n      <td>2.029961e+02</td>\n      <td>5223.377700</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>7.228152e+03</td>\n      <td>0.0</td>\n      <td>3.171128e+04</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>Transport equipment</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>4.838493e+01</td>\n      <td>535.478400</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>1.773000e+02</td>\n      <td>0.0</td>\n      <td>7.611633e+02</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>Machinery</td>\n      <td>3.130578e+02</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>691.737300</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>2.180880e+02</td>\n      <td>0.0</td>\n      <td>1.222883e+03</td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>Mining and quarrying</td>\n      <td>1.575828e+05</td>\n      <td>0.000000</td>\n      <td>4.668302e+04</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>1.014852e+05</td>\n      <td>0.0</td>\n      <td>3.057510e+05</td>\n    </tr>\n    <tr>\n      <th>30</th>\n      <td>Food and tobacco</td>\n      <td>9.511911e+02</td>\n      <td>0.000000</td>\n      <td>1.363301e+03</td>\n      <td>2797.662600</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>2.354400e+03</td>\n      <td>0.0</td>\n      <td>7.466554e+03</td>\n    </tr>\n    <tr>\n      <th>31</th>\n      <td>Paper, pulp and printing</td>\n      <td>3.286904e+03</td>\n      <td>0.000000</td>\n      <td>2.694012e+02</td>\n      <td>768.154410</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>3.846564e+03</td>\n      <td>0.0</td>\n      <td>8.171024e+03</td>\n    </tr>\n    <tr>\n      <th>32</th>\n      <td>Wood and wood products</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>3.934487e+01</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>9.774360e+02</td>\n      <td>0.0</td>\n      <td>1.016781e+03</td>\n    </tr>\n    <tr>\n      <th>33</th>\n      <td>Construction</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>2.343183e+03</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>7.546320e+02</td>\n      <td>0.0</td>\n      <td>3.097815e+03</td>\n    </tr>\n    <tr>\n      <th>34</th>\n      <td>Textile and leather</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>3.317484e+00</td>\n      <td>10.643400</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>4.221000e+02</td>\n      <td>0.0</td>\n      <td>4.360609e+02</td>\n    </tr>\n    <tr>\n      <th>35</th>\n      <td>Non-specified</td>\n      <td>3.952369e+05</td>\n      <td>0.000000</td>\n      <td>4.924761e+03</td>\n      <td>2980.572300</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>82216.04</td>\n      <td>1.048543e+05</td>\n      <td>0.0</td>\n      <td>5.902126e+05</td>\n    </tr>\n    <tr>\n      <th>36</th>\n      <td>TRANSPORT</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>7.129907e+05</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>7.273764e+03</td>\n      <td>0.0</td>\n      <td>7.202645e+05</td>\n    </tr>\n    <tr>\n      <th>37</th>\n      <td>Domestic aviation</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>6.892672e+04</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>2.013840e+02</td>\n      <td>0.0</td>\n      <td>6.912810e+04</td>\n    </tr>\n    <tr>\n      <th>38</th>\n      <td>Road</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>6.394569e+05</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>2.354400e+02</td>\n      <td>0.0</td>\n      <td>6.396923e+05</td>\n    </tr>\n    <tr>\n      <th>39</th>\n      <td>Rail</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>3.507287e+02</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>6.018084e+03</td>\n      <td>0.0</td>\n      <td>6.368813e+03</td>\n    </tr>\n    <tr>\n      <th>40</th>\n      <td>Pipeline transport</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>5.558814e+02</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>3.949200e+01</td>\n      <td>0.0</td>\n      <td>5.953734e+02</td>\n    </tr>\n    <tr>\n      <th>41</th>\n      <td>Domestic navigation</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>0.000000e+00</td>\n    </tr>\n    <tr>\n      <th>42</th>\n      <td>Non-specified</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>3.700480e+03</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>7.793640e+02</td>\n      <td>0.0</td>\n      <td>4.479844e+03</td>\n    </tr>\n    <tr>\n      <th>43</th>\n      <td>OTHER</td>\n      <td>2.474889e+05</td>\n      <td>0.000000</td>\n      <td>3.038221e+05</td>\n      <td>1494.341550</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>344250.42</td>\n      <td>9.026686e+05</td>\n      <td>0.0</td>\n      <td>1.799724e+06</td>\n    </tr>\n    <tr>\n      <th>44</th>\n      <td>Residential</td>\n      <td>2.713310e+04</td>\n      <td>0.000000</td>\n      <td>1.656833e+02</td>\n      <td>226.325250</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>20999.28</td>\n      <td>1.230016e+05</td>\n      <td>0.0</td>\n      <td>1.715259e+05</td>\n    </tr>\n    <tr>\n      <th>45</th>\n      <td>Comm. and public services</td>\n      <td>2.670884e+04</td>\n      <td>0.000000</td>\n      <td>2.059403e+05</td>\n      <td>1268.016300</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>7.562945e+05</td>\n      <td>0.0</td>\n      <td>9.902117e+05</td>\n    </tr>\n    <tr>\n      <th>46</th>\n      <td>Agriculture/forestry</td>\n      <td>2.327055e+02</td>\n      <td>0.000000</td>\n      <td>4.504578e+04</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>2.164979e+04</td>\n      <td>0.0</td>\n      <td>6.692827e+04</td>\n    </tr>\n    <tr>\n      <th>47</th>\n      <td>Fishing</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>0.000000e+00</td>\n    </tr>\n    <tr>\n      <th>48</th>\n      <td>Non-specified</td>\n      <td>1.934142e+05</td>\n      <td>0.000000</td>\n      <td>5.267038e+04</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>323251.14</td>\n      <td>1.722681e+03</td>\n      <td>0.0</td>\n      <td>5.710584e+05</td>\n    </tr>\n    <tr>\n      <th>49</th>\n      <td>NON-ENERGY USE</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>1.083384e+05</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>1.083384e+05</td>\n    </tr>\n    <tr>\n      <th>50</th>\n      <td>in industry/transf./energy</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>7.209423e+03</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>7.209423e+03</td>\n    </tr>\n    <tr>\n      <th>51</th>\n      <td>of which: chem./petrochem.</td>\n      <td>4.022404e+05</td>\n      <td>0.000000</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>4.022404e+05</td>\n    </tr>\n    <tr>\n      <th>52</th>\n      <td>in transport</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>4.310937e+03</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>4.310937e+03</td>\n    </tr>\n    <tr>\n      <th>53</th>\n      <td>in other</td>\n      <td>0.000000e+00</td>\n      <td>0.000000</td>\n      <td>9.681806e+04</td>\n      <td>0.000000</td>\n      <td>0.00000</td>\n      <td>0.0000</td>\n      <td>0.00000</td>\n      <td>0.00</td>\n      <td>0.000000e+00</td>\n      <td>0.0</td>\n      <td>9.681806e+04</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n",
    "supporting": [
      "energy_balance_analysis_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js\" integrity=\"sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js\" integrity=\"sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n<script type=\"text/javascript\">\nwindow.PlotlyConfig = {MathJaxConfig: 'local'};\nif (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}\n</script>\n<script type=\"module\">import \"https://cdn.plot.ly/plotly-3.0.1.min\"</script>\n\n"
      ]
    }
  }
}